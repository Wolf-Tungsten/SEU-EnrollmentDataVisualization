<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <!-- Insert this line above script imports  -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    
    <script src="js/jquery-3.3.1.min.js" ></script>
    <script src="js/echarts.js"></script>
    <script src="js/china.js"></script>
    <script>if (window.module) module = window.module;</script>

    <script>
        if ($) { console.log ("jQuery is working")}
        if (echarts) {console.log ("ECharts is working")}
    </script>
    <link rel="stylesheet" href="css/index.css" type="text/css"/>
  </head>
  <body style="margin:0">
      <div class="container" style="width: 1920px; height: 720px; transform: scaleY(1); transform-origin: 0 0 ; overflow: hidden;">
          <div id="up">
            <div id="time-container">
                <span class="label-background text" style="margin-right:20px;">当前时间</span>
                <span id="current-time" class="dashboard-text" style="width: 391px;">2018-00-00 00:30:23</span>
                <script>
                    setInterval(()=>{
                        let now = new Date()
                        $('#current-time').text(`${now.getFullYear()}-${now.getMonth()+1 < 10 ? '0'+ (now.getMonth() + 1) : now.getMonth() + 1}-${now.getDate() < 10 ? '0'+ now.getDate(): now.getDate()} 
                        ${now.getHours() < 10 ? '0'+ now.getHours() : now.getHours()}:${now.getMinutes() < 10 ? '0'+ now.getMinutes() : now.getMinutes()}:${now.getSeconds() < 10 ? '0' + now.getSeconds() : now.getSeconds()}`)
                    }, 1000)
                </script>
            </div>
            <div id="spare"></div>
            <div id="amount-container">
                <span class="label-background text" style="margin-right:15px;">总计划</span>
                <span class="dashboard-text" style="margin-right:30px; width: 4ch">3456</span>
                <span class="label-background text" style="margin-right:15px;">已录取</span>
                <span id='finish-count' class="dashboard-text" style="width: 4ch">0000</span>
                <script>
                    window.setFinishCount = (count) => {
                        $('#finish-count').text(count)
                    }
                    setFinishCount(1100)
                </script>
            </div>
          </div>
          <div id="middle">

          </div>
          <div id="bottom">

          </div>
      </div>
      
      <script>
        option = {
        title: {
            text: 'USA Population Estimates (2012)',
            subtext: 'Data from www.census.gov',
            sublink: 'http://www.census.gov/popest/data/datasets.html',
            left: 'right'
        },
        tooltip: {
            trigger: 'item',
            showDelay: 0,
            transitionDuration: 0.2,
            formatter: function (params) {
                var value = (params.value + '').split('.');
                value = value[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,');
                return params.seriesName + '<br/>' + params.name + ': ' + value;
            }
        },
        visualMap: {
            left: 'right',
            min: 500000,
            max: 38000000,
            inRange: {
                color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
            },
            text:['High','Low'],           // 文本，默认为数值文本
            calculable: true
        },
        toolbox: {
            show: true,
            //orient: 'vertical',
            left: 'left',
            top: 'top',
            feature: {
                dataView: {readOnly: false},
                restore: {},
                saveAsImage: {}
            }
        },
        series: [
            {
                name: 'USA PopEstimates',
                type: 'map',
                roam: true,
                map: 'china',
                itemStyle:{
                    areaColor:'rgba(128, 255, 128, 1)'
                },
                data:[
                    {name: '山东', value: 4822023},
                    {name: '北京', value: 731449},
                    {name: '内蒙古', value: 6553255}
                ]
            }
        ]
    };

    let myChart = echarts.init(document.getElementById('main'))
    myChart.setOption(option)
      </script>
  </body>
</html>
